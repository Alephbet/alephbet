!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AlephBet=e():t.AlephBet=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i,o,a,u,c;o=n(3),c=n(11),u=n(6),a=n(1),i=function(){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"log",value:function(t){if(a.debug)return console.log(t)}},{key:"sha1",value:function(t){return u(t).toString()}},{key:"random",value:function(t){return t?parseInt(this.sha1(t).substr(0,13),16)/0xfffffffffffff:Math.random()}},{key:"check_weights",value:function(t){var e,n,r;for(n in e=[],t)r=t[n],e.push(null!=r.weight);return e.every((function(t){return t}))}},{key:"sum_weights",value:function(t){var e,n;for(e in n=0,t)n+=t[e].weight||0;return n}},{key:"validate_weights",value:function(t){var e,n,r;for(n in e=[],t)r=t[n],e.push(null!=r.weight);return e.every((function(t){return t||e.every((function(t){return!t}))}))}}],(n=null)&&r(e.prototype,n),i&&r(e,i),t}();return t.defaults=o.defaults,t.keys=o.keys,t.remove=o.remove,t.omit=o.omit,t.uuid=c.v4,t}.call(void 0),t.exports=i},function(t,e,n){"use strict";t.exports={debug:!1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,u,c,s;s=n(0),u=n(8),c=n(1),a=function(){var t=function t(){o(this,t)};return t.options=c,t.utils=s,t.GimelAdapter=u.GimelAdapter,t.PersistentQueueGoogleAnalyticsAdapter=u.PersistentQueueGoogleAnalyticsAdapter,t.PersistentQueueKeenAdapter=u.PersistentQueueKeenAdapter,t.Experiment=function(){var t,e,n=function(){function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,n),this.options=r,s.defaults(this.options,n._options),e.call(this),this.name=this.options.name,this.variants=this.options.variants,this.user_id=this.options.user_id,this.variant_names=s.keys(this.variants),t.call(this)}return i(n,[{key:"run",value:function(){var t;return s.log("running with options: ".concat(JSON.stringify(this.options))),(t=this.get_stored_variant())?(s.log("".concat(t," active")),this.activate_variant(t)):this.conditionally_activate_variant()}},{key:"activate_variant",value:function(t){var e;return null!=(e=this.variants[t])&&e.activate(this),this.storage().set("".concat(this.options.name,":variant"),t)}},{key:"conditionally_activate_variant",value:function(){var t;if(this.options.trigger()&&(s.log("trigger set"),this.in_sample()))return s.log("in sample"),t=this.pick_variant(),this.tracking().experiment_start(this,t),this.activate_variant(t)}},{key:"goal_complete",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.defaults(n,{unique:!0}),(!n.unique||!this.storage().get("".concat(this.options.name,":").concat(t)))&&(e=this.get_stored_variant()))return n.unique&&this.storage().set("".concat(this.options.name,":").concat(t),!0),s.log("experiment: ".concat(this.options.name," variant:").concat(e," goal:").concat(t," complete")),this.tracking().goal_complete(this,e,t,n)}},{key:"get_stored_variant",value:function(){return this.storage().get("".concat(this.options.name,":variant"))}},{key:"pick_variant",value:function(){var t;return t=s.check_weights(this.variants),s.log("all variants have weights: ".concat(t)),t?this.pick_weighted_variant():this.pick_unweighted_variant()}},{key:"pick_weighted_variant",value:function(){var t,e,n,r;for(t in r=s.sum_weights(this.variants),n=Math.ceil(this._random("variant")*r),e=this.variants)if((n-=e[t].weight)<=0)return t}},{key:"pick_unweighted_variant",value:function(){var t,e,n;return e=1/this.variant_names.length,t=Math.floor(this._random("variant")/e),n=this.variant_names[t],s.log("".concat(n," picked")),n}},{key:"in_sample",value:function(){var t;return void 0!==(t=this.storage().get("".concat(this.options.name,":in_sample")))||(t=this._random("sample")<=this.options.sample,this.storage().set("".concat(this.options.name,":in_sample"),t)),t}},{key:"_random",value:function(t){var e;return this.user_id?(e="".concat(this.name,".").concat(t,".").concat(this.user_id),s.random(e)):s.random()}},{key:"add_goal",value:function(t){return t.add_experiment(this)}},{key:"add_goals",value:function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.add_goal(e));return i}},{key:"storage",value:function(){return this.options.storage_adapter}},{key:"tracking",value:function(){return this.options.tracking_adapter}}]),n}();return n._options={name:null,variants:null,user_id:null,sample:1,trigger:function(){return!0},tracking_adapter:u.GoogleUniversalAnalyticsAdapter,storage_adapter:u.LocalStorageAdapter},t=function(){return this.run()},e=function(){if(null===this.options.name)throw new Error("an experiment name must be specified");if(null===this.options.variants)throw new Error("variants must be provided");if("function"!=typeof this.options.trigger)throw new Error("trigger must be a function");if(!s.validate_weights(this.options.variants))throw new Error("not all variants have weights")},n}.call(this),t.Goal=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.name=e,this.props=n,s.defaults(this.props,{unique:!0}),this.experiments=[]}return i(t,[{key:"add_experiment",value:function(t){return this.experiments.push(t)}},{key:"add_experiments",value:function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.add_experiment(e));return i}},{key:"complete",value:function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.experiments).length;e<n;e++)t=r[e],i.push(t.goal_complete(this.name,this.props));return i}}]),t}(),t}.call(void 0),t.exports=a},function(t,e,n){(function(t,n){(function(){function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function o(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function u(t){return function(e){return t(e)}}function c(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function s(t){var e=Object;return function(n){return t(e(n))}}function f(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function l(){}function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function p(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new v;++e<n;)this.add(t[e])}function y(t){this.size=(this.__data__=new p(t)).size}function g(t,e){var n=Ie(t),r=!n&&Pe(t),i=!n&&!r&&Be(t),o=!n&&!r&&!i&&Ue(t);if(n=n||r||i||o){r=t.length;for(var a=String,u=-1,c=Array(r);++u<r;)c[u]=a(u);r=c}else r=[];var s;a=r.length;for(s in t)!e&&!Nt.call(t,s)||n&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||L(s,a))||r.push(s);return r}function _(t,e,n){var r=t[e];Nt.call(t,e)&&X(r,n)&&(n!==yt||e in t)||b(t,e,n)}function m(t,e){for(var n=t.length;n--;)if(X(t[n][0],e))return n;return-1}function b(t,e,n){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function w(t,e,n,r,i,o){var a,u=1&e,c=2&e,s=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),a!==yt)return a;if(!et(t))return t;if(r=Ie(t)){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,a)}else{var f=Se(t),l="[object Function]"==f||"[object GeneratorFunction]"==f;if(Be(t))return function(t,e){if(e)return t.slice();var n=t.length;n=Kt?Kt(n):new t.constructor(n);return t.copy(n),n}(t,u);if("[object Object]"==f||"[object Arguments]"==f||l&&!i){if(a=c||l||"function"!=typeof t.constructor||G(t)?{}:ke(Xt(t)),!u)return c?function(t,e){return B(t,Oe(t),e)}(t,function(t,e){return t&&B(e,st(e),t)}(a,t)):function(t,e){return B(t,xe(t),e)}(t,function(t,e){return t&&B(e,ct(e),t)}(a,t))}else{if(!Ot[f])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return I(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return e=n?I(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e=n?I(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(e=new t.constructor(t.source,jt.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new r;case"[object Symbol]":return we?Object(we.call(t)):{}}}(t,f,u)}}if(o||(o=new y),i=o.get(t))return i;if(o.set(t,a),Me(t))return t.forEach((function(r){a.add(w(r,e,n,r,t,o))})),a;if(Ce(t))return t.forEach((function(r,i){a.set(i,w(r,e,n,i,t,o))})),a;c=s?c?R:z:c?st:ct;var h=r?yt:c(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(h||t,(function(r,i){h&&(r=t[i=r]),_(a,i,w(r,e,n,i,t,o))})),a}function j(t,e){for(var n=0,r=(e=P(e,t)).length;null!=t&&n<r;)t=t[$(e[n++])];return n&&n==r?t:yt}function k(t,e,n){return e=e(t),Ie(t)?e:o(e,n(t))}function A(t){if(null==t)t=t===yt?"[object Undefined]":"[object Null]";else if(ne&&ne in Object(t)){var e=Nt.call(t,ne),n=t[ne];try{t[ne]=yt;var r=!0}catch(t){}var i=Ht.call(t);r&&(e?t[ne]=n:delete t[ne]),t=i}else t=Ht.call(t);return t}function x(t){return nt(t)&&"[object Arguments]"==A(t)}function O(t,e,n,r,i){if(t===e)e=!0;else if(null==t||null==e||!nt(t)&&!nt(e))e=t!=t&&e!=e;else t:{var o,a,u=Ie(t),c=Ie(e),s="[object Object]"==(o="[object Arguments]"==(o=u?"[object Array]":Se(t))?"[object Object]":o);c="[object Object]"==(a="[object Arguments]"==(a=c?"[object Array]":Se(e))?"[object Object]":a);if((a=o==a)&&Be(t)){if(!Be(e)){e=!1;break t}u=!0,s=!1}if(a&&!s)i||(i=new y),e=u||Ue(t)?M(t,e,n,r,O,i):U(t,e,o,n,r,O,i);else{if(!(1&n)&&(u=s&&Nt.call(t,"__wrapped__"),o=c&&Nt.call(e,"__wrapped__"),u||o)){t=u?t.value():t,e=o?e.value():e,i||(i=new y),e=O(t,e,n,r,i);break t}if(a)e:if(i||(i=new y),u=1&n,o=z(t),c=o.length,a=z(e).length,c==a||u){for(s=c;s--;){var f=o[s];if(!(u?f in e:Nt.call(e,f))){e=!1;break e}}if((a=i.get(t))&&i.get(e))e=a==e;else{a=!0,i.set(t,e),i.set(e,t);for(var l=u;++s<c;){var h=t[f=o[s]],p=e[f];if(r)var v=u?r(p,h,f,e,t,i):r(h,p,f,t,e,i);if(v===yt?h!==p&&!O(h,p,n,r,i):!v){a=!1;break}l||(l="constructor"==f)}a&&!l&&((n=t.constructor)!=(r=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(a=!1)),i.delete(t),i.delete(e),e=a}}else e=!1;else e=!1}}return e}function S(t){return"function"==typeof t?t:null==t?lt:"object"==typeof t?Ie(t)?function(t,e){return N(t)&&e==e&&!et(e)?H($(t),e):function(n){var r=at(n,t);return r===yt&&r===e?ut(n,t):O(e,r,3)}}(t[0],t[1]):function(t){var e=function(t){for(var e=ct(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,i==i&&!et(i)]}return e}(t);return 1==e.length&&e[0][2]?H(e[0][0],e[0][1]):function(n){return n===t||function(t,e){var n=e.length,r=n;if(null==t)return!r;for(t=Object(t);n--;){if((i=e[n])[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++n<r;){var i,o=(i=e[n])[0],a=t[o],u=i[1];if(i[2]){if(a===yt&&!(o in t))return!1}else if(!O(u,a,3,void 0,i=new y))return!1}return!0}(n,e)}}(t):pt(t)}function q(t){if("string"==typeof t)return t;if(Ie(t))return i(t,q)+"";if(it(t))return je?je.call(t):"";var e=t+"";return"0"==e&&1/t==-gt?"-0":e}function E(t,e){var n;if(2>(e=P(e,t)).length)n=t;else{var r=0,i=-1,o=-1,a=(n=e).length;for(0>r&&(r=-r>a?0:a+r),0>(i=i>a?a:i)&&(i+=a),a=r>i?0:i-r>>>0,r>>>=0,i=Array(a);++o<a;)i[o]=n[o+r];n=j(t,i)}null==(t=n)||delete t[$(W(e))]}function P(t,e){return Ie(t)?t:N(t,e)?[t]:Ee(ot(t))}function I(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function B(t,e,n){var r=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],u=yt;u===yt&&(u=t[a]),r?b(n,a,u):_(n,a,u)}return n}function C(t){return rt(t)?yt:t}function M(t,e,n,r,i,o){var u=1&n,c=t.length;if(c!=(s=e.length)&&!(u&&s>c))return!1;if((s=o.get(t))&&o.get(e))return s==e;var s=-1,f=!0,l=2&n?new d:yt;for(o.set(t,e),o.set(e,t);++s<c;){var h=t[s],p=e[s];if(r)var v=u?r(p,h,s,e,t,o):r(h,p,s,t,e,o);if(v!==yt){if(v)continue;f=!1;break}if(l){if(!a(e,(function(t,e){if(!l.has(e)&&(h===t||i(h,t,n,r,o)))return l.push(e)}))){f=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function U(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return X(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=c;case"[object Set]":if(u||(u=f),t.size!=e.size&&!(1&r))break;return(n=a.get(t))?n==e:(r|=2,a.set(t,e),e=M(u(t),u(e),r,i,o,a),a.delete(t),e);case"[object Symbol]":if(we)return we.call(t)==we.call(e)}return!1}function z(t){return k(t,ct,xe)}function R(t){return k(t,st,Oe)}function D(t,e){var n=t.__data__,r=typeof e;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function T(t,e){var n=null==t?yt:t[e];return!et(n)||Gt&&Gt in n||!(Z(n)?$t:kt).test(J(n))?yt:n}function F(t){return Ie(t)||Pe(t)||!!(ee&&t&&t[ee])}function L(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&At.test(t))&&-1<t&&0==t%1&&t<e}function N(t,e){if(Ie(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!it(t))||mt.test(t)||!_t.test(t)||null!=e&&t in Object(e)}function G(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function H(t,e){return function(n){return null!=n&&n[t]===e&&(e!==yt||t in Object(n))}}function V(t,e,n){return e=ue(e===yt?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=ue(i.length-e,0),u=Array(a);++o<a;)u[o]=i[e+o];for(o=-1,a=Array(e+1);++o<e;)a[o]=i[o];return a[e]=n(u),r(t,this,a)}}function $(t){if("string"==typeof t||it(t))return t;var e=t+"";return"0"==e&&1/t==-gt?"-0":e}function J(t){if(null!=t){try{return Lt.call(t)}catch(t){}return t+""}return""}function Q(t){return null!=t&&t.length?function t(e,n,r,i,a){var u=-1,c=e.length;for(r||(r=F),a||(a=[]);++u<c;){var s=e[u];0<n&&r(s)?1<n?t(s,n-1,r,i,a):o(a,s):i||(a[a.length]=s)}return a}(t,1):[]}function W(t){var e=null==t?0:t.length;return e?t[e-1]:yt}function K(t,e){function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=t.apply(this,r),n.cache=o.set(i,r)||o,r)}if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");return n.cache=new(K.Cache||v),n}function X(t,e){return t===e||t!=t&&e!=e}function Y(t){return null!=t&&tt(t.length)&&!Z(t)}function Z(t){return!!et(t)&&("[object Function]"==(t=A(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function tt(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function et(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nt(t){return null!=t&&"object"==typeof t}function rt(t){return!(!nt(t)||"[object Object]"!=A(t))&&(null===(t=Xt(t))||"function"==typeof(t=Nt.call(t,"constructor")&&t.constructor)&&t instanceof t&&Lt.call(t)==Vt)}function it(t){return"symbol"==typeof t||nt(t)&&"[object Symbol]"==A(t)}function ot(t){return null==t?"":q(t)}function at(t,e,n){return(t=null==t?yt:j(t,e))===yt?n:t}function ut(t,e){var n;if(n=null!=t){for(var r,i=-1,o=(r=P(e,n=t)).length,a=!1;++i<o;){var u=$(r[i]);if(!(a=null!=n&&null!=n&&u in Object(n)))break;n=n[u]}a||++i!=o?n=a:n=!!(o=null==n?0:n.length)&&tt(o)&&L(u,o)&&(Ie(n)||Pe(n))}return n}function ct(t){if(Y(t))t=g(t);else if(G(t)){var e,n=[];for(e in Object(t))Nt.call(t,e)&&"constructor"!=e&&n.push(e);t=n}else t=ae(t);return t}function st(t){if(Y(t))t=g(t,!0);else if(et(t)){var e,n=G(t),r=[];for(e in t)("constructor"!=e||!n&&Nt.call(t,e))&&r.push(e);t=r}else{if(e=[],null!=t)for(n in Object(t))e.push(n);t=e}return t}function ft(t){return function(){return t}}function lt(t){return t}function ht(t){return S("function"==typeof t?t:w(t,1))}function pt(t){return N(t)?function(t){return function(e){return null==e?yt:e[t]}}($(t)):function(t){return function(e){return j(e,t)}}(t)}function vt(){return[]}function dt(){return!1}var yt,gt=1/0,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/\\(\\)?/g,jt=/\w*$/,kt=/^\[object .+?Constructor\]$/,At=/^(?:0|[1-9]\d*)$/,xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var Ot={};Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object DataView]"]=Ot["[object Boolean]"]=Ot["[object Date]"]=Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object Symbol]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object WeakMap]"]=!1;var St,qt="object"==typeof t&&t&&t.Object===Object&&t,Et="object"==typeof self&&self&&self.Object===Object&&self,Pt=qt||Et||Function("return this")(),It=e&&!e.nodeType&&e,Bt=It&&"object"==typeof n&&n&&!n.nodeType&&n,Ct=Bt&&Bt.exports===It,Mt=Ct&&qt.process;t:{try{St=Mt&&Mt.binding&&Mt.binding("util");break t}catch(r){}St=void 0}var Ut=St&&St.isMap,zt=St&&St.isSet,Rt=St&&St.isTypedArray,Dt=Array.prototype,Tt=Object.prototype,Ft=Pt["__core-js_shared__"],Lt=Function.prototype.toString,Nt=Tt.hasOwnProperty,Gt=function(){var t=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ht=Tt.toString,Vt=Lt.call(Object),$t=RegExp("^"+Lt.call(Nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=Ct?Pt.Buffer:yt,Qt=Pt.Symbol,Wt=Pt.Uint8Array,Kt=Jt?Jt.a:yt,Xt=s(Object.getPrototypeOf),Yt=Object.create,Zt=Tt.propertyIsEnumerable,te=Dt.splice,ee=Qt?Qt.isConcatSpreadable:yt,ne=Qt?Qt.toStringTag:yt,re=function(){try{var t=T(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=Object.getOwnPropertySymbols,oe=Jt?Jt.isBuffer:yt,ae=s(Object.keys),ue=Math.max,ce=Date.now,se=T(Pt,"DataView"),fe=T(Pt,"Map"),le=T(Pt,"Promise"),he=T(Pt,"Set"),pe=T(Pt,"WeakMap"),ve=T(Object,"create"),de=J(se),ye=J(fe),ge=J(le),_e=J(he),me=J(pe),be=Qt?Qt.prototype:yt,we=be?be.valueOf:yt,je=be?be.toString:yt,ke=function(){function t(){}return function(e){return et(e)?Yt?Yt(e):(t.prototype=e,e=new t,t.prototype=yt,e):{}}}();h.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},h.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},h.prototype.get=function(t){var e=this.__data__;return ve?"__lodash_hash_undefined__"===(t=e[t])?yt:t:Nt.call(e,t)?e[t]:yt},h.prototype.has=function(t){var e=this.__data__;return ve?e[t]!==yt:Nt.call(e,t)},h.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ve&&e===yt?"__lodash_hash_undefined__":e,this},p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=function(t){var e=this.__data__;return!(0>(t=m(e,t))||(t==e.length-1?e.pop():te.call(e,t,1),--this.size,0))},p.prototype.get=function(t){var e=this.__data__;return 0>(t=m(e,t))?yt:e[t][1]},p.prototype.has=function(t){return-1<m(this.__data__,t)},p.prototype.set=function(t,e){var n=this.__data__,r=m(n,t);return 0>r?(++this.size,n.push([t,e])):n[r][1]=e,this},v.prototype.clear=function(){this.size=0,this.__data__={hash:new h,map:new(fe||p),string:new h}},v.prototype.delete=function(t){return t=D(this,t).delete(t),this.size-=t?1:0,t},v.prototype.get=function(t){return D(this,t).get(t)},v.prototype.has=function(t){return D(this,t).has(t)},v.prototype.set=function(t,e){var n=D(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},d.prototype.add=d.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},d.prototype.has=function(t){return this.__data__.has(t)},y.prototype.clear=function(){this.__data__=new p,this.size=0},y.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},y.prototype.get=function(t){return this.__data__.get(t)},y.prototype.has=function(t){return this.__data__.has(t)},y.prototype.set=function(t,e){var n=this.__data__;if(n instanceof p){var r=n.__data__;if(!fe||199>r.length)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new v(r)}return n.set(t,e),this.size=n.size,this};var Ae=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:ft(e),writable:!0})}:lt,xe=ie?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(ie(t),(function(e){return Zt.call(t,e)})))}:vt,Oe=ie?function(t){for(var e=[];t;)o(e,xe(t)),t=Xt(t);return e}:vt,Se=A;(se&&"[object DataView]"!=Se(new se(new ArrayBuffer(1)))||fe&&"[object Map]"!=Se(new fe)||le&&"[object Promise]"!=Se(le.resolve())||he&&"[object Set]"!=Se(new he)||pe&&"[object WeakMap]"!=Se(new pe))&&(Se=function(t){var e=A(t);if(t=(t="[object Object]"==e?t.constructor:yt)?J(t):"")switch(t){case de:return"[object DataView]";case ye:return"[object Map]";case ge:return"[object Promise]";case _e:return"[object Set]";case me:return"[object WeakMap]"}return e});var qe=function(t){var e=0,n=0;return function(){var r=ce(),i=16-(r-n);if(n=r,0<i){if(800<=++e)return arguments[0]}else e=0;return t.apply(yt,arguments)}}(Ae),Ee=function(t){var e=(t=K(t,(function(t){return 500===e.size&&e.clear(),t}))).cache;return t}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(bt,(function(t,n,r,i){e.push(r?i.replace(wt,"$1"):n||t)})),e}));K.Cache=v;var Pe=x(function(){return arguments}())?x:function(t){return nt(t)&&Nt.call(t,"callee")&&!Zt.call(t,"callee")},Ie=Array.isArray,Be=oe||dt,Ce=Ut?u(Ut):function(t){return nt(t)&&"[object Map]"==Se(t)},Me=zt?u(zt):function(t){return nt(t)&&"[object Set]"==Se(t)},Ue=Rt?u(Rt):function(t){return nt(t)&&tt(t.length)&&!!xt[A(t)]},ze=function(t,e){return qe(V(t,void 0,lt),t+"")}((function(t,e){t=Object(t);var n,r=-1,i=e.length,o=2<i?e[2]:yt;if(n=o){n=e[0];var a=e[1];if(et(o)){var u=typeof a;n=!!("number"==u?Y(o)&&L(a,o.length):"string"==u&&a in o)&&X(o[a],n)}else n=!1}for(n&&(i=1);++r<i;)for(a=-1,u=(n=st(o=e[r])).length;++a<u;){var c=n[a],s=t[c];(s===yt||X(s,Tt[c])&&!Nt.call(t,c))&&(t[c]=o[c])}return t})),Re=function(t){return qe(V(t,yt,Q),t+"")}((function(t,e){var n={};if(null==t)return n;var r=!1;e=i(e,(function(e){return e=P(e,t),r||(r=1<e.length),e})),B(t,R(t),n),r&&(n=w(n,7,C));for(var o=e.length;o--;)E(n,e[o]);return n}));l.constant=ft,l.defaults=ze,l.flatten=Q,l.iteratee=ht,l.keys=ct,l.keysIn=st,l.memoize=K,l.omit=Re,l.property=pt,l.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=function(){var t=(t=l.iteratee||ht)===ht?S:t;return arguments.length?t(arguments[0],arguments[1]):t}(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}for(o=(r=t?i.length:0)-1;r--;)if(a=i[r],r==o||a!==u){var u=a;L(a)?te.call(t,a,1):E(t,a)}return n},l.eq=X,l.get=at,l.hasIn=ut,l.identity=lt,l.isArguments=Pe,l.isArray=Ie,l.isArrayLike=Y,l.isBuffer=Be,l.isFunction=Z,l.isLength=tt,l.isMap=Ce,l.isObject=et,l.isObjectLike=nt,l.isPlainObject=rt,l.isSet=Me,l.isSymbol=it,l.isTypedArray=Ue,l.last=W,l.stubArray=vt,l.stubFalse=dt,l.toString=ot,l.VERSION="4.17.5",Bt&&((Bt.exports=l)._=l,It._=l)}).call(this)}).call(this,n(4),n(5)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r,i,o,a,u,c,s,f;t.exports=(f=n(7),i=(r=f).lib,o=i.WordArray,a=i.Hasher,u=r.algo,c=[],s=u.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=0;s<80;s++){if(s<16)c[s]=0|t[e+s];else{var f=c[s-3]^c[s-8]^c[s-14]^c[s-16];c[s]=f<<1|f>>>31}var l=(r<<5|r>>>27)+u+c[s];l+=s<20?1518500249+(i&o|~i&a):s<40?1859775393+(i^o^a):s<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(s),r.HmacSHA1=a._createHmacHelper(s),f.SHA1)},function(t,e,n){var r;t.exports=(r=r||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var u=i(4294967296*(n||t.random()));n=987654071*u(),r.push(4294967296*u()|0)}return new a.init(r,e)}}),u=r.enc={},c=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},s=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},f=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,u=i/(4*o),c=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*o,s=t.min(4*c,i);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,c);n.sigBytes-=s}return new a.init(l,s)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math),r)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f,l,h;h=n(0),l=n(9),f=function(){var t=function t(){s(this,t)};return t.GimelAdapter=function(){var e=function(){function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.LocalStorageAdapter;s(this,e),this._storage=i,this.url=n,this.namespace=r,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return c(e,[{key:"_remove_quuid",value:function(t){var e=this;return function(n,r){if(!n)return h.remove(e._queue,(function(e){return e.properties._quuid===t})),e._storage.set(e.queue_name,JSON.stringify(e._queue))}}},{key:"_jquery_get",value:function(t,e,n){return h.log("send request using jQuery"),window.jQuery.ajax({method:"GET",url:t,data:e,success:n})}},{key:"_plain_js_get",value:function(t,e,n){var r,i,o,a;return h.log("fallback on plain js xhr"),a=new XMLHttpRequest,i=(i=function(){var t;for(r in t=[],e)o=e[r],t.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o)));return t}()).join("&").replace(/%20/g,"+"),a.open("GET","".concat(t,"?").concat(i)),a.onload=function(){if(200===a.status)return n()},a.send()}},{key:"_ajax_get",value:function(t,e,n){var r;return(null!=(r=window.jQuery)?r.ajax:void 0)?this._jquery_get(t,e,n):this._plain_js_get(t,e,n)}},{key:"_flush",value:function(){var t,e,n,r,i,o;for(o=[],e=0,r=(i=this._queue).length;e<r;e++)n=i[e],t=this._remove_quuid(n.properties._quuid),this._ajax_get(this.url,h.omit(n.properties,"_quuid"),t),o.push(null);return o}},{key:"_user_uuid",value:function(t,e){return t.user_id&&e.unique?h.sha1("".concat(this.namespace,".").concat(t.name,".").concat(t.user_id)):h.uuid()}},{key:"_track",value:function(t,e,n){return h.log("Persistent Queue Gimel track: ".concat(this.namespace,", ").concat(t.name,", ").concat(e,", ").concat(n.name)),this._queue.length>100&&this._queue.shift(),this._queue.push({properties:{experiment:t.name,_quuid:h.uuid(),uuid:this._user_uuid(t,n),variant:e,event:n.name,namespace:this.namespace}}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()}},{key:"experiment_start",value:function(t,e){return this._track(t,e,{name:"participate",unique:!0})}},{key:"goal_complete",value:function(t,e,n,r){return this._track(t,e,h.defaults({name:n},r))}}]),e}();return e.prototype.queue_name="_gimel_queue",e}.call(this),t.LamedAdapter=function(){var e=function(t){function e(){return s(this,e),i(this,o(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),c(e,[{key:"_user_uuid",value:function(t,e){return t.user_id&&e.unique?h.sha1("".concat(this.namespace,".").concat(t.name,".").concat(e.name,".").concat(t.user_id)):h.uuid()}}]),e}(t.GimelAdapter);return e.prototype.queue_name="_lamed_queue",e}.call(this),t.PersistentQueueGoogleAnalyticsAdapter=function(){var e=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.LocalStorageAdapter;s(this,e),this._storage=n,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return c(e,[{key:"_remove_uuid",value:function(t){var e=this;return function(){return h.remove(e._queue,(function(e){return e.uuid===t})),e._storage.set(e.queue_name,JSON.stringify(e._queue))}}},{key:"_flush",value:function(){var t,e,n,r,i,o;if("function"!=typeof ga)throw new Error("ga not defined. Please make sure your Universal analytics is set up correctly");for(o=[],e=0,r=(i=this._queue).length;e<r;e++)n=i[e],t=this._remove_uuid(n.uuid),o.push(ga("send","event",n.category,n.action,n.label,{hitCallback:t,nonInteraction:1}));return o}},{key:"_track",value:function(t,e,n){return h.log("Persistent Queue Google Universal Analytics track: ".concat(t,", ").concat(e,", ").concat(n)),this._queue.length>100&&this._queue.shift(),this._queue.push({uuid:h.uuid(),category:t,action:e,label:n}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()}},{key:"experiment_start",value:function(t,e){return this._track(this.namespace,"".concat(t.name," | ").concat(e),"Visitors")}},{key:"goal_complete",value:function(t,e,n,r){return this._track(this.namespace,"".concat(t.name," | ").concat(e),n)}}]),e}();return e.prototype.namespace="alephbet",e.prototype.queue_name="_ga_queue",e}.call(this),t.PersistentQueueKeenAdapter=function(){var e=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.LocalStorageAdapter;s(this,e),this.client=n,this._storage=r,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return c(e,[{key:"_remove_quuid",value:function(t){var e=this;return function(n,r){if(!n)return h.remove(e._queue,(function(e){return e.properties._quuid===t})),e._storage.set(e.queue_name,JSON.stringify(e._queue))}}},{key:"_flush",value:function(){var t,e,n,r,i,o;for(o=[],e=0,r=(i=this._queue).length;e<r;e++)n=i[e],t=this._remove_quuid(n.properties._quuid),o.push(this.client.addEvent(n.experiment_name,h.omit(n.properties,"_quuid"),t));return o}},{key:"_user_uuid",value:function(t,e){return t.user_id&&e.unique?h.sha1("".concat(this.namespace,".").concat(t.name,".").concat(t.user_id)):h.uuid()}},{key:"_track",value:function(t,e,n){return h.log("Persistent Queue Keen track: ".concat(t.name,", ").concat(e,", ").concat(event)),this._queue.length>100&&this._queue.shift(),this._queue.push({experiment_name:t.name,properties:{_quuid:h.uuid(),uuid:this._user_uuid(t,n),variant:e,event:n.name}}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()}},{key:"experiment_start",value:function(t,e){return this._track(t,e,{name:"participate",unique:!0})}},{key:"goal_complete",value:function(t,e,n,r){return this._track(t,e,h.defaults({name:n},r))}}]),e}();return e.prototype.queue_name="_keen_queue",e}.call(this),t.GoogleUniversalAnalyticsAdapter=function(){var t=function(){function t(){s(this,t)}return c(t,null,[{key:"_track",value:function(t,e,n){if(h.log("Google Universal Analytics track: ".concat(t,", ").concat(e,", ").concat(n)),"function"!=typeof ga)throw new Error("ga not defined. Please make sure your Universal analytics is set up correctly");return ga("send","event",t,e,n,{nonInteraction:1})}},{key:"experiment_start",value:function(t,e){return this._track(this.namespace,"".concat(t.name," | ").concat(e),"Visitors")}},{key:"goal_complete",value:function(t,e,n,r){return this._track(this.namespace,"".concat(t.name," | ").concat(e),n)}}]),t}();return t.namespace="alephbet",t}.call(this),t.LocalStorageAdapter=function(){var t=function(){function t(){s(this,t)}return c(t,null,[{key:"set",value:function(t,e){return new l(this.namespace).set(t,e)}},{key:"get",value:function(t){return new l(this.namespace).get(t)}}]),t}();return t.namespace="alephbet",t}.call(this),t}.call(void 0),t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o,a,u;o=n(10),u=new o({namespace:null}),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alephbet";r(this,t),this.namespace=e,this.storage=u.get(this.namespace)||{}}var e,n,o;return e=t,(n=[{key:"set",value:function(t,e){return this.storage[t]=e,u.set(this.namespace,this.storage),e}},{key:"get",value:function(t){return this.storage[t]}}])&&i(e.prototype,n),o&&i(e,o),t}(),t.exports=a},function(t,e,n){var r;!function(){var i=function(t){return i.utils.extend({},i.plugins,(new i.Storage).init(t))};i.version="0.4.11",i.utils={extend:function(){for(var t="object"==typeof arguments[0]?arguments[0]:{},e=1;e<arguments.length;e++)if(arguments[e]&&"object"==typeof arguments[e])for(var n in arguments[e])t[n]=arguments[e][n];return t},each:function(t,e,n){if(this.isArray(t)){for(var r=0;r<t.length;r++)if(!1===e.call(n,t[r],r))return}else if(t)for(var i in t)if(!1===e.call(n,t[i],i))return},tryEach:function(t,e,n,r){this.each(t,(function(t,i){try{return e.call(r,t,i)}catch(e){if(this.isFunction(n))try{n.call(r,t,i,e)}catch(t){}}}),this)},registerPlugin:function(t){i.plugins=this.extend(t,i.plugins)},getTypeOf:function(t){return null==t?""+t:Object.prototype.toString.call(t).replace(/^\[object\s(.*)\]$/,(function(t,e){return e.toLowerCase()}))}};for(var o=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp","Undefined","Null"],a=0;a<o.length;a++)i.utils["is"+o[a]]=function(t){return function(e){return i.utils.getTypeOf(e)===t.toLowerCase()}}(o[a]);i.plugins={},i.options=i.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365,keyDelimiter:"."},window.Basil?window.Basil.options:{}),i.Storage=function(){var t="b45i1"+(Math.random()+1).toString(36).substring(7),e={},n=function(t){var e=i.utils.getTypeOf(t);return"string"===e&&t||"number"===e||"boolean"===e},r=function(t){return i.utils.isArray(t)?t:i.utils.isString(t)?[t]:[]},o=function(t,e,r){var o="";return n(e)?o+=e:i.utils.isArray(e)&&(o=(e=i.utils.isFunction(e.filter)?e.filter(n):e).join(r)),o&&n(t)?t+r+o:o},a=function(t,e,r){return n(t)?e.replace(new RegExp("^"+t+r),""):e},u={engine:null,check:function(){try{window[this.engine].setItem(t,!0),window[this.engine].removeItem(t)}catch(t){return!1}return!0},set:function(t,e,n){if(!t)throw Error("invalid key");window[this.engine].setItem(t,e)},get:function(t){return window[this.engine].getItem(t)},remove:function(t){window[this.engine].removeItem(t)},reset:function(t){for(var e,n=0;n<window[this.engine].length;n++)e=window[this.engine].key(n),t&&0!==e.indexOf(t)||(this.remove(e),n--)},keys:function(t,e){for(var n,r=[],i=0;i<window[this.engine].length;i++)n=window[this.engine].key(i),t&&0!==n.indexOf(t)||r.push(a(t,n,e));return r}};return e.local=i.utils.extend({},u,{engine:"localStorage"}),e.session=i.utils.extend({},u,{engine:"sessionStorage"}),e.memory={_hash:{},check:function(){return!0},set:function(t,e,n){if(!t)throw Error("invalid key");this._hash[t]=e},get:function(t){return this._hash[t]||null},remove:function(t){delete this._hash[t]},reset:function(t){for(var e in this._hash)t&&0!==e.indexOf(t)||this.remove(e)},keys:function(t,e){var n=[];for(var r in this._hash)t&&0!==r.indexOf(t)||n.push(a(t,r,e));return n}},e.cookie={check:function(e){if(!navigator.cookieEnabled)return!1;if(window.self!==window.top){var n="thirdparty.check="+Math.round(1e3*Math.random());return document.cookie=n+"; path=/",-1!==document.cookie.indexOf(n)}if(e&&e.secure)try{this.set(t,t,e);var r=this.get(t)===t;return this.remove(t),r}catch(t){return!1}return!0},set:function(t,e,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!t)throw Error("invalid key");var r=encodeURIComponent(t)+"="+encodeURIComponent(e);if(n.expireDays){var i=new Date;i.setTime(i.getTime()+24*n.expireDays*60*60*1e3),r+="; expires="+i.toGMTString()}if(n.domain&&n.domain!==document.domain){var o=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(o)||o.split(".").length<=1)throw Error("invalid domain");r+="; domain="+n.domain}n.sameSite&&["lax","strict","none"].includes(n.sameSite.toLowerCase())&&(r+="; SameSite="+n.sameSite),!0===n.secure&&(r+="; Secure"),document.cookie=r+"; path=/"},get:function(t){if(!this.check())throw Error("cookies are disabled");for(var e,n=encodeURIComponent(t),r=document.cookie?document.cookie.split(";"):[],i=r.length-1;i>=0;i--)if(0===(e=r[i].replace(/^\s*/,"")).indexOf(n+"="))return decodeURIComponent(e.substring(n.length+1,e.length));return null},remove:function(t){this.set(t,"",{expireDays:-1});for(var e=document.domain.split("."),n=e.length;n>1;n--)this.set(t,"",{expireDays:-1,domain:"."+e.slice(-n).join(".")})},reset:function(t){for(var e,n,r=document.cookie?document.cookie.split(";"):[],i=0;i<r.length;i++)n=(e=r[i].replace(/^\s*/,"")).substr(0,e.indexOf("=")),t&&0!==n.indexOf(t)||this.remove(n)},keys:function(t,e){if(!this.check())throw Error("cookies are disabled");for(var n,r,i=[],o=document.cookie?document.cookie.split(";"):[],u=0;u<o.length;u++)n=o[u].replace(/^\s*/,""),r=decodeURIComponent(n.substr(0,n.indexOf("="))),t&&0!==r.indexOf(t)||i.push(a(t,r,e));return i}},{init:function(t){return this.setOptions(t),this},setOptions:function(t){this.options=i.utils.extend({},this.options||i.options,t)},support:function(t){return e.hasOwnProperty(t)},check:function(t){return!!this.support(t)&&e[t].check(this.options)},set:function(t,n,a){if(a=i.utils.extend({},this.options,a),!(t=o(a.namespace,t,a.keyDelimiter)))return!1;n=!0===a.raw?n:function(t){return JSON.stringify(t)}(n);var u=null;return i.utils.tryEach(r(a.storages),(function(r,i){return e[r].set(t,n,a),u=r,!1}),null,this),!!u&&(i.utils.tryEach(r(a.storages),(function(n,r){n!==u&&e[n].remove(t)}),null,this),!0)},get:function(t,n){if(n=i.utils.extend({},this.options,n),!(t=o(n.namespace,t,n.keyDelimiter)))return null;var a=null;return i.utils.tryEach(r(n.storages),(function(r,i){if(null!==a)return!1;a=e[r].get(t,n)||null,a=!0===n.raw?a:function(t){return t?JSON.parse(t):null}(a)}),(function(t,e,n){a=null}),this),a},remove:function(t,n){n=i.utils.extend({},this.options,n),(t=o(n.namespace,t,n.keyDelimiter))&&i.utils.tryEach(r(n.storages),(function(n){e[n].remove(t)}),null,this)},reset:function(t){t=i.utils.extend({},this.options,t),i.utils.tryEach(r(t.storages),(function(n){e[n].reset(t.namespace)}),null,this)},keys:function(t){t=t||{};var e=[];for(var n in this.keysMap(t))e.push(n);return e},keysMap:function(t){t=i.utils.extend({},this.options,t);var n={};return i.utils.tryEach(r(t.storages),(function(r){i.utils.each(e[r].keys(t.namespace,t.keyDelimiter),(function(t){n[t]=i.utils.isArray(n[t])?n[t]:[],n[t].push(r)}),this)}),null,this),n}}},i.memory=(new i.Storage).init({storages:"memory",namespace:null,raw:!0}),i.cookie=(new i.Storage).init({storages:"cookie",namespace:null,raw:!0}),i.localStorage=(new i.Storage).init({storages:"local",namespace:null,raw:!0}),i.sessionStorage=(new i.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=i,void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";n.r(e),n.d(e,"v1",(function(){return p})),n.d(e,"v3",(function(){return w})),n.d(e,"v4",(function(){return j})),n.d(e,"v5",(function(){return x}));var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],u=0;u<256;++u)a[u]=(u+256).toString(16).substr(1);var c,s,f=function(t,e){var n=e||0,r=a;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")},l=0,h=0;var p=function(t,e,n){var r=e&&n||0,i=e||[],a=(t=t||{}).node||c,u=void 0!==t.clockseq?t.clockseq:s;if(null==a||null==u){var p=t.random||(t.rng||o)();null==a&&(a=c=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==u&&(u=s=16383&(p[6]<<8|p[7]))}var v=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:h+1,y=v-l+(d-h)/1e4;if(y<0&&void 0===t.clockseq&&(u=u+1&16383),(y<0||v>l)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=v,h=d,s=u;var g=(1e4*(268435455&(v+=122192928e5))+d)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;var _=v/4294967296*1e4&268435455;i[r++]=_>>>8&255,i[r++]=255&_,i[r++]=_>>>24&15|16,i[r++]=_>>>16&255,i[r++]=u>>>8|128,i[r++]=255&u;for(var m=0;m<6;++m)i[r+m]=a[m];return e||f(i)};var v=function(t,e,n){var r=function(t,r,i,o){var a=i&&o||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)),"string"==typeof r&&(r=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(r)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=n(r.concat(t));if(u[6]=15&u[6]|e,u[8]=63&u[8]|128,i)for(var c=0;c<16;++c)i[a+c]=u[c];return i||f(u)};try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function y(t,e,n,r,i,o){return d((a=d(d(e,t),d(r,o)))<<(u=i)|a>>>32-u,n);var a,u}function g(t,e,n,r,i,o,a){return y(e&n|~e&r,t,e,i,o,a)}function _(t,e,n,r,i,o,a){return y(e&r|n&~r,t,e,i,o,a)}function m(t,e,n,r,i,o,a){return y(e^n^r,t,e,i,o,a)}function b(t,e,n,r,i,o,a){return y(n^(e|~r),t,e,i,o,a)}var w=v("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Array(e.length);for(var n=0;n<e.length;n++)t[n]=e.charCodeAt(n)}return function(t){var e,n,r,i=[],o=32*t.length;for(e=0;e<o;e+=8)n=t[e>>5]>>>e%32&255,r=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),i.push(r);return i}(function(t,e){var n,r,i,o,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var u=1732584193,c=-271733879,s=-1732584194,f=271733878;for(n=0;n<t.length;n+=16)r=u,i=c,o=s,a=f,u=g(u,c,s,f,t[n],7,-680876936),f=g(f,u,c,s,t[n+1],12,-389564586),s=g(s,f,u,c,t[n+2],17,606105819),c=g(c,s,f,u,t[n+3],22,-1044525330),u=g(u,c,s,f,t[n+4],7,-176418897),f=g(f,u,c,s,t[n+5],12,1200080426),s=g(s,f,u,c,t[n+6],17,-1473231341),c=g(c,s,f,u,t[n+7],22,-45705983),u=g(u,c,s,f,t[n+8],7,1770035416),f=g(f,u,c,s,t[n+9],12,-1958414417),s=g(s,f,u,c,t[n+10],17,-42063),c=g(c,s,f,u,t[n+11],22,-1990404162),u=g(u,c,s,f,t[n+12],7,1804603682),f=g(f,u,c,s,t[n+13],12,-40341101),s=g(s,f,u,c,t[n+14],17,-1502002290),c=g(c,s,f,u,t[n+15],22,1236535329),u=_(u,c,s,f,t[n+1],5,-165796510),f=_(f,u,c,s,t[n+6],9,-1069501632),s=_(s,f,u,c,t[n+11],14,643717713),c=_(c,s,f,u,t[n],20,-373897302),u=_(u,c,s,f,t[n+5],5,-701558691),f=_(f,u,c,s,t[n+10],9,38016083),s=_(s,f,u,c,t[n+15],14,-660478335),c=_(c,s,f,u,t[n+4],20,-405537848),u=_(u,c,s,f,t[n+9],5,568446438),f=_(f,u,c,s,t[n+14],9,-1019803690),s=_(s,f,u,c,t[n+3],14,-187363961),c=_(c,s,f,u,t[n+8],20,1163531501),u=_(u,c,s,f,t[n+13],5,-1444681467),f=_(f,u,c,s,t[n+2],9,-51403784),s=_(s,f,u,c,t[n+7],14,1735328473),c=_(c,s,f,u,t[n+12],20,-1926607734),u=m(u,c,s,f,t[n+5],4,-378558),f=m(f,u,c,s,t[n+8],11,-2022574463),s=m(s,f,u,c,t[n+11],16,1839030562),c=m(c,s,f,u,t[n+14],23,-35309556),u=m(u,c,s,f,t[n+1],4,-1530992060),f=m(f,u,c,s,t[n+4],11,1272893353),s=m(s,f,u,c,t[n+7],16,-155497632),c=m(c,s,f,u,t[n+10],23,-1094730640),u=m(u,c,s,f,t[n+13],4,681279174),f=m(f,u,c,s,t[n],11,-358537222),s=m(s,f,u,c,t[n+3],16,-722521979),c=m(c,s,f,u,t[n+6],23,76029189),u=m(u,c,s,f,t[n+9],4,-640364487),f=m(f,u,c,s,t[n+12],11,-421815835),s=m(s,f,u,c,t[n+15],16,530742520),c=m(c,s,f,u,t[n+2],23,-995338651),u=b(u,c,s,f,t[n],6,-198630844),f=b(f,u,c,s,t[n+7],10,1126891415),s=b(s,f,u,c,t[n+14],15,-1416354905),c=b(c,s,f,u,t[n+5],21,-57434055),u=b(u,c,s,f,t[n+12],6,1700485571),f=b(f,u,c,s,t[n+3],10,-1894986606),s=b(s,f,u,c,t[n+10],15,-1051523),c=b(c,s,f,u,t[n+1],21,-2054922799),u=b(u,c,s,f,t[n+8],6,1873313359),f=b(f,u,c,s,t[n+15],10,-30611744),s=b(s,f,u,c,t[n+6],15,-1560198380),c=b(c,s,f,u,t[n+13],21,1309151649),u=b(u,c,s,f,t[n+4],6,-145523070),f=b(f,u,c,s,t[n+11],10,-1120210379),s=b(s,f,u,c,t[n+2],15,718787259),c=b(c,s,f,u,t[n+9],21,-343485551),u=d(u,r),c=d(c,i),s=d(s,o),f=d(f,a);return[u,c,s,f]}(function(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t[e/8])<<e%32;return n}(t),8*t.length))}));var j=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;++a)e[r+a]=i[a];return e||f(i)};function k(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function A(t,e){return t<<e|t>>>32-e}var x=v("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=new Array(r.length);for(var i=0;i<r.length;i++)t[i]=r.charCodeAt(i)}t.push(128);var o=t.length/4+2,a=Math.ceil(o/16),u=new Array(a);for(i=0;i<a;i++){u[i]=new Array(16);for(var c=0;c<16;c++)u[i][c]=t[64*i+4*c]<<24|t[64*i+4*c+1]<<16|t[64*i+4*c+2]<<8|t[64*i+4*c+3]}for(u[a-1][14]=8*(t.length-1)/Math.pow(2,32),u[a-1][14]=Math.floor(u[a-1][14]),u[a-1][15]=8*(t.length-1)&4294967295,i=0;i<a;i++){for(var s=new Array(80),f=0;f<16;f++)s[f]=u[i][f];for(f=16;f<80;f++)s[f]=A(s[f-3]^s[f-8]^s[f-14]^s[f-16],1);var l=n[0],h=n[1],p=n[2],v=n[3],d=n[4];for(f=0;f<80;f++){var y=Math.floor(f/20),g=A(l,5)+k(y,h,p,v)+d+e[y]+s[f]>>>0;d=v,v=p,p=A(h,30)>>>0,h=l,l=g}n[0]=n[0]+l>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+p>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))}])}));