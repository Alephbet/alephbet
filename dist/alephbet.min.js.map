{"version":3,"sources":["webpack://AlephBet/webpack/universalModuleDefinition","webpack://AlephBet/./node_modules/charenc/charenc.js","webpack://AlephBet/./src/adapters.coffee","webpack://AlephBet/./src/alephbet.coffee","webpack://AlephBet/./src/options.coffee","webpack://AlephBet/./src/storage.coffee","webpack://AlephBet/./src/utils.coffee","webpack://AlephBet/./node_modules/crypt/crypt.js","webpack://AlephBet/./node_modules/sha1/sha1.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/rng.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/regex.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/validate.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/v1.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/parse.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/v35.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/md5.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/v3.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/v4.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/v5.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/nil.js","webpack://AlephBet/./node_modules/uuid/dist/esm-browser/version.js","webpack://AlephBet/webpack/bootstrap","webpack://AlephBet/webpack/startup","webpack://AlephBet/webpack/runtime/define property getters","webpack://AlephBet/webpack/runtime/hasOwnProperty shorthand","webpack://AlephBet/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","Adapters","AlephbetAdapter","namespace","storage","url","JSON","_storage","el","properties","quuid","window","jQuery","method","data","success","callback","xhr","XMLHttpRequest","params","ajax","item","experiment","goal","_queue","_quuid","uuid","variant","event","name","unique","goal_name","queue_name","LamedAdapter","GimelAdapter","RailsAdapter","PersistentQueueGoogleAnalyticsAdapter","ga","Error","category","action","label","PersistentQueueKeenAdapter","keen_client","client","experiment_name","GoogleUniversalAnalyticsAdapter","LocalStorageAdapter","AlephBet","Experiment","options","_validate","variants","user_id","_run","props","all_variants_have_weights","weights_sum","weighted_index","Math","weight","partitions","variant_names","chosen_partition","active","sample","seed","storage_adapter","tracking_adapter","trigger","experiments","debug","Storage","store","value","Utils","obj","deletions","list","results","console","parseInt","contains_weight","has_weight","sum","Object","keys","v4","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","api","message","digestbytes","Buffer","isBuffer","Array","prototype","slice","call","isArray","m","l","w","H0","H1","H2","H3","H4","a","d","e","t","sha1","asBytes","asString","_blocksize","_digestsize","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","byteToHex","arr","offset","arguments","undefined","toLowerCase","TypeError","_nodeId","_clockseq","_lastMSecs","_lastNSecs","buf","node","clockseq","seedBytes","msecs","Date","now","nsecs","dt","tl","tmh","v","version","hashfunc","generateUUID","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","s","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","rnds","f","z","ROTL","K","H","N","ceil","M","_i","_i2","W","_t","_t2","T","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","key","o","defineProperty","enumerable","get","prop","hasOwnProperty","r","Symbol","toStringTag"],"mappings":"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","file":"alephbet.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AlephBet\"] = factory();\n\telse\n\t\troot[\"AlephBet\"] = factory();\n})(self, function() {\nreturn ","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","import Storage from './storage'\nimport utils from './utils'\n\nclass Adapters\n\n  ## A parent class Adapter for using the Alephbet backend API.\n  ## uses jQuery to send data if `$.ajax` is found. Falls back on plain js xhr\n  ## params:\n  ## - url: track URL to post events to\n  ## - namepsace (optional): allows setting different environments etc\n  ## - storage (optional): storage adapter for the queue\n  class @AlephbetAdapter\n    queue_name: '_alephbet_queue'\n\n    constructor: (url, namespace = 'alephbet', storage = Adapters.LocalStorageAdapter) ->\n      @_storage = storage\n      @url = url\n      @namespace = namespace\n      @_queue = JSON.parse(@_storage.get(@queue_name) || '[]')\n      @_flush()\n\n    _remove_quuid: (quuid) ->\n      (err, res) =>\n        return if err\n        utils.remove(@_queue, (el) -> el.properties._quuid == quuid)\n        @_storage.set(@queue_name, JSON.stringify(@_queue))\n\n    _jquery_get: (url, data, callback) ->\n      utils.log('send request using jQuery')\n      window.jQuery.ajax\n        method: 'GET'\n        url: url\n        data: data\n        success: callback\n\n    _plain_js_get: (url, data, callback) ->\n      utils.log('fallback on plain js xhr')\n      xhr = new XMLHttpRequest()\n      params = (\"#{encodeURIComponent(k)}=#{encodeURIComponent(v)}\" for k,v of data)\n      params = params.join('&').replace(/%20/g, '+')\n      xhr.open('GET', \"#{url}?#{params}\")\n      xhr.onload = ->\n        if xhr.status == 200\n          callback()\n      xhr.send()\n\n    _ajax_get: (url, data, callback) ->\n      if window.jQuery?.ajax\n        @_jquery_get(url, data, callback)\n      else\n        @_plain_js_get(url, data, callback)\n\n    _flush: ->\n      for item in @_queue\n        callback = @_remove_quuid(item.properties._quuid)\n        @_ajax_get(@url, utils.omit(item.properties, '_quuid'), callback)\n        null\n\n    _user_uuid: (experiment, goal) ->\n      return utils.uuid() unless experiment.user_id\n      # if goal is not unique, we track it every time. return a new random uuid\n      return utils.uuid() unless goal.unique\n      # for a given user id, namespace, goal and experiment, the uuid will always be the same\n      # this avoids counting goals twice for the same user across different devices\n      utils.sha1(\"#{@namespace}.#{experiment.name}.#{goal.name}.#{experiment.user_id}\")\n\n    _track: (experiment, variant, goal) ->\n      utils.log(\"Persistent Queue track: #{@namespace}, #{experiment.name}, #{variant}, #{goal.name}\")\n      @_queue.shift() if @_queue.length > 100\n      @_queue.push\n        properties:\n          experiment: experiment.name\n          _quuid: utils.uuid()  # queue uuid (used only internally)\n          uuid: @_user_uuid(experiment, goal)\n          variant: variant\n          event: goal.name\n          namespace: @namespace\n      @_storage.set(@queue_name, JSON.stringify(@_queue))\n      @_flush()\n\n    experiment_start: (experiment, variant) ->\n      @_track(experiment, variant, {name: 'participate', unique: true})\n\n    goal_complete: (experiment, variant, goal_name, props) ->\n      @_track(experiment, variant, utils.defaults({name: goal_name}, props))\n\n  ## Adapter for using the lamed backend. See https://github.com/Alephbet/lamed\n  ## inherits from AlephbetAdapter which uses the same backend API\n  ##\n  class @LamedAdapter extends @AlephbetAdapter\n    queue_name: '_lamed_queue'\n\n  ## Adapter for using the gimel backend. See https://github.com/Alephbet/gimel\n  ## The main difference is the user_uuid generation (for backwards compatibility)\n  ## params:\n  ## - url: Gimel track URL to post events to\n  ## - namepsace: namespace for Gimel (allows setting different environments etc)\n  ## - storage (optional) - storage adapter for the queue\n  class @GimelAdapter extends @AlephbetAdapter\n    queue_name: '_lamed_queue'\n\n    _user_uuid: (experiment, goal) ->\n      return utils.uuid() unless experiment.user_id\n      # if goal is not unique, we track it every time. return a new random uuid\n      return utils.uuid() unless goal.unique\n      # for a given user id, namespace and experiment, the uuid will always be the same\n      # this avoids counting goals twice for the same user across different devices\n      utils.sha1(\"#{@namespace}.#{experiment.name}.#{experiment.user_id}\")\n\n  ## Adapter for using the lamed backend. See https://github.com/Alephbet/lamed\n  ## inherits from AlephbetAdapter which uses the same backend API\n  ##\n  class @RailsAdapter extends @AlephbetAdapter\n    queue_name: '_rails_queue'\n\n\n  class @PersistentQueueGoogleAnalyticsAdapter\n    namespace: 'alephbet'\n    queue_name: '_ga_queue'\n\n    constructor: (storage = Adapters.LocalStorageAdapter) ->\n      @_storage = storage\n      @_queue = JSON.parse(@_storage.get(@queue_name) || '[]')\n      @_flush()\n\n    _remove_uuid: (uuid) ->\n      =>\n        utils.remove(@_queue, (el) -> el.uuid == uuid)\n        @_storage.set(@queue_name, JSON.stringify(@_queue))\n\n    _flush: ->\n      throw new Error('ga not defined. Please make sure your Universal analytics is set up correctly') if typeof ga isnt 'function'\n      for item in @_queue\n        callback = @_remove_uuid(item.uuid)\n        ga('send', 'event', item.category, item.action, item.label, {'hitCallback': callback, 'nonInteraction': 1})\n\n    _track: (category, action, label) ->\n      utils.log(\"Persistent Queue Google Universal Analytics track: #{category}, #{action}, #{label}\")\n      @_queue.shift() if @_queue.length > 100\n      @_queue.push({uuid: utils.uuid(), category: category, action: action, label: label})\n      @_storage.set(@queue_name, JSON.stringify(@_queue))\n      @_flush()\n\n    experiment_start: (experiment, variant) ->\n      @_track(@namespace, \"#{experiment.name} | #{variant}\", 'Visitors')\n\n    goal_complete: (experiment, variant, goal_name, _props) ->\n      @_track(@namespace, \"#{experiment.name} | #{variant}\", goal_name)\n\n\n  class @PersistentQueueKeenAdapter\n    queue_name: '_keen_queue'\n\n    constructor: (keen_client, storage = Adapters.LocalStorageAdapter) ->\n      @client = keen_client\n      @_storage = storage\n      @_queue = JSON.parse(@_storage.get(@queue_name) || '[]')\n      @_flush()\n\n    _remove_quuid: (quuid) ->\n      (err, res) =>\n        return if err\n        utils.remove(@_queue, (el) -> el.properties._quuid == quuid)\n        @_storage.set(@queue_name, JSON.stringify(@_queue))\n\n    _flush: ->\n      for item in @_queue\n        callback = @_remove_quuid(item.properties._quuid)\n        @client.addEvent(item.experiment_name, utils.omit(item.properties, '_quuid'), callback)\n\n    _user_uuid: (experiment, goal) ->\n      return utils.uuid() unless experiment.user_id\n      # if goal is not unique, we track it every time. return a new random uuid\n      return utils.uuid() unless goal.unique\n      # for a given user id, namespace and experiment, the uuid will always be the same\n      # this avoids counting goals twice for the same user across different devices\n      utils.sha1(\"#{@namespace}.#{experiment.name}.#{experiment.user_id}\")\n\n    _track: (experiment, variant, goal) ->\n      utils.log(\"Persistent Queue Keen track: #{experiment.name}, #{variant}, #{goal.name}\")\n      @_queue.shift() if @_queue.length > 100\n      @_queue.push\n        experiment_name: experiment.name\n        properties:\n          _quuid: utils.uuid()  # queue uuid (used only internally)\n          uuid: @_user_uuid(experiment, goal)\n          variant: variant\n          event: goal.name\n      @_storage.set(@queue_name, JSON.stringify(@_queue))\n      @_flush()\n\n    experiment_start: (experiment, variant) ->\n      @_track(experiment, variant, {name: 'participate', unique: true})\n\n    goal_complete: (experiment, variant, goal_name, props) ->\n      @_track(experiment, variant, utils.defaults({name: goal_name}, props))\n\n\n  class @GoogleUniversalAnalyticsAdapter\n    @namespace: 'alephbet'\n\n    @_track: (category, action, label) ->\n      utils.log(\"Google Universal Analytics track: #{category}, #{action}, #{label}\")\n      throw new Error('ga not defined. Please make sure your Universal analytics is set up correctly') if typeof ga isnt 'function'\n      ga('send', 'event', category, action, label, {'nonInteraction': 1})\n\n    @experiment_start: (experiment, variant) ->\n      @_track(@namespace, \"#{experiment.name} | #{variant}\", 'Visitors')\n\n    @goal_complete: (experiment, variant, goal_name, _props) ->\n      @_track(@namespace, \"#{experiment.name} | #{variant}\", goal_name)\n\n\n  class @LocalStorageAdapter\n    @namespace: 'alephbet'\n    @set: (key, value) ->\n      new Storage(@namespace).set(key, value)\n    @get: (key) ->\n      new Storage(@namespace).get(key)\n\n\nexport default Adapters\n","import utils from './utils'\nimport adapters from './adapters'\nimport options from './options'\n\nclass AlephBet\n  @options = options\n  @utils = utils\n\n  @GimelAdapter = adapters.GimelAdapter\n  @LamedAdapter = adapters.LamedAdapter\n  @RailsAdapter = adapters.RailsAdapter\n  @PersistentQueueGoogleAnalyticsAdapter = adapters.PersistentQueueGoogleAnalyticsAdapter\n  @PersistentQueueKeenAdapter = adapters.PersistentQueueKeenAdapter\n\n  class @Experiment\n    @_options:\n      name: null\n      variants: null\n      user_id: null\n      sample: 1.0\n      trigger: -> true\n      tracking_adapter: adapters.GoogleUniversalAnalyticsAdapter\n      storage_adapter: adapters.LocalStorageAdapter\n\n    constructor: (@options={}) ->\n      utils.defaults(@options, Experiment._options)\n      _validate.call(this)\n      @name = @options.name\n      @variants = @options.variants\n      @user_id = @options.user_id\n      @variant_names = utils.keys(@variants)\n      _run.call(this)\n\n    run: ->\n      utils.log(\"running with options: #{JSON.stringify(@options)}\")\n      if variant = @get_stored_variant()\n        # a variant was already chosen. activate it\n        utils.log(\"#{variant} active\")\n        @activate_variant(variant)\n      else\n        @conditionally_activate_variant()\n\n    _run = -> @run()\n\n    activate_variant: (variant) ->\n      @variants[variant]?.activate(this)\n      @storage().set(\"#{@options.name}:variant\", variant)\n\n    # if experiment conditions match, pick and activate a variant, track experiment start\n    conditionally_activate_variant: ->\n      return unless @options.trigger()\n      utils.log('trigger set')\n      return unless @in_sample()\n      utils.log('in sample')\n      variant = @pick_variant()\n      @tracking().experiment_start(this, variant)\n      @activate_variant(variant)\n\n    goal_complete: (goal_name, props={}) ->\n      utils.defaults(props, {unique: true})\n      return if props.unique && @storage().get(\"#{@options.name}:#{goal_name}\")\n      variant = @get_stored_variant()\n      return unless variant\n      @storage().set(\"#{@options.name}:#{goal_name}\", true) if props.unique\n      utils.log(\"experiment: #{@options.name} variant:#{variant} goal:#{goal_name} complete\")\n      @tracking().goal_complete(this, variant, goal_name, props)\n\n    get_stored_variant: ->\n      @storage().get(\"#{@options.name}:variant\")\n\n    pick_variant: ->\n      all_variants_have_weights = utils.check_weights(@variants)\n      utils.log(\"all variants have weights: #{all_variants_have_weights}\")\n      if all_variants_have_weights then @pick_weighted_variant() else @pick_unweighted_variant()\n\n    pick_weighted_variant: ->\n\n      # Choosing a weighted variant:\n      # For A, B, C with weights 1, 3, 6\n      # variants = A, B, C\n      # weights = 1, 3, 6\n      # weights_sum = 10 (sum of weights)\n      # weighted_index = 2.1 (random number between 0 and weight sum)\n      # ABBBCCCCCC\n      # ==^\n      # Select B\n      weights_sum = utils.sum_weights(@variants)\n      weighted_index = Math.ceil((@_random('variant') * weights_sum))\n      for key, value of @variants\n        # then we are substracting variant weight from selected number\n        # and it it reaches 0 (or below) we are selecting this variant\n        weighted_index -= value.weight\n        return key if weighted_index <= 0\n\n    pick_unweighted_variant: ->\n      partitions = 1.0 / @variant_names.length\n      chosen_partition = Math.floor(@_random('variant') / partitions)\n      variant = @variant_names[chosen_partition]\n      utils.log(\"#{variant} picked\")\n      variant\n\n    in_sample: ->\n      active = @storage().get(\"#{@options.name}:in_sample\")\n      return active unless typeof active is 'undefined'\n      active = @_random('sample') <= @options.sample\n      @storage().set(\"#{@options.name}:in_sample\", active)\n      active\n\n    _random: (salt) ->\n      return utils.random() unless @user_id\n      seed = \"#{@name}.#{salt}.#{@user_id}\"\n      utils.random(seed)\n\n    add_goal: (goal) ->\n      goal.add_experiment(this)\n\n    add_goals: (goals) ->\n      @add_goal(goal) for goal in goals\n\n    storage: -> @options.storage_adapter\n\n    tracking: -> @options.tracking_adapter\n\n    _validate = ->\n      throw new Error('an experiment name must be specified') if @options.name is null\n      throw new Error('variants must be provided') if @options.variants is null\n      throw new Error('trigger must be a function') if typeof @options.trigger isnt 'function'\n      all_variants_have_weights = utils.validate_weights @options.variants\n      throw new Error('not all variants have weights') if !all_variants_have_weights\n\n  class @Goal\n    constructor: (@name, @props={}) ->\n      utils.defaults(@props, {unique: true})\n      @experiments = []\n\n    add_experiment: (experiment) ->\n      @experiments.push(experiment)\n\n    add_experiments: (experiments) ->\n      @add_experiment(experiment) for experiment in experiments\n\n    complete: ->\n      for experiment in @experiments\n        experiment.goal_complete(@name, @props)\n\n\nexport default AlephBet\n","export default {\n  debug: false\n}\n","client = typeof window isnt 'undefined'\n\n# a thin wrapper for cases where window is not avaialble\nclass Storage\n\tconstructor: (@namespace='alephbet') ->\n\t\t@storage = if client then store.get(@namespace) else {}\n\tset: (key, value) ->\n\t\t@storage[key] = value\n\t\tif client\n\t\t\tstore.set(@namespace, @storage)\n\t\treturn value\n\tget: (key) ->\n\t\t@storage[key]\n\t\t# store.get(\"#{@namespace}:#{key}\")\n\nmodule.exports = Storage\n","import {v4} from 'uuid'\nimport options from './options'\n\nsha1 = require('sha1')\n\nclass Utils\n  @defaults: (obj, defaults) ->\n    for key, value of defaults\n      if obj[key] == undefined\n        obj[key] = value\n    return obj\n  @keys: Object.keys\n  @remove: (list, callback) ->\n    deletions = []\n    for el, index in [...list]\n      if callback(el, index)\n        list.splice(list.indexOf(el), 1)\n        deletions.push(el)\n    return deletions\n  @omit: (obj, ...keys) ->\n    results = {...obj}\n    for key in [].concat.apply([], keys)\n      delete results[key]\n    return results\n  @log: (message) ->\n    console.log(message) if options.debug\n  @uuid: v4\n  @sha1: (text) ->\n    sha1(text).toString()\n  @random: (seed) ->\n    return Math.random() unless seed\n    # a MUCH simplified version inspired by PlanOut.js\n    parseInt(@sha1(seed).substr(0, 13), 16) / 0xFFFFFFFFFFFFF\n  @check_weights: (variants) ->\n    contains_weight = []\n    contains_weight.push(value.weight?) for key, value of variants\n    contains_weight.every (has_weight) -> has_weight\n  @sum_weights: (variants) ->\n    sum = 0\n    for key, value of variants\n      sum += value.weight || 0\n    sum\n  @validate_weights: (variants) ->\n    contains_weight = []\n    contains_weight.push(value.weight?) for key, value of variants\n    contains_weight.every (has_weight) -> has_weight or contains_weight.every (has_weight) -> !has_weight\n\nexport default Utils\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","(function() {\n  var crypt = require('crypt'),\n      utf8 = require('charenc').utf8,\n      bin = require('charenc').bin,\n\n  // The core\n  sha1 = function (message) {\n    // Convert to byte array\n    if (message.constructor == String)\n      message = utf8.stringToBytes(message);\n    else if (typeof Buffer !== 'undefined' && typeof Buffer.isBuffer == 'function' && Buffer.isBuffer(message))\n      message = Array.prototype.slice.call(message, 0);\n    else if (!Array.isArray(message))\n      message = message.toString();\n\n    // otherwise assume byte array\n\n    var m  = crypt.bytesToWords(message),\n        l  = message.length * 8,\n        w  = [],\n        H0 =  1732584193,\n        H1 = -271733879,\n        H2 = -1732584194,\n        H3 =  271733878,\n        H4 = -1009589776;\n\n    // Padding\n    m[l >> 5] |= 0x80 << (24 - l % 32);\n    m[((l + 64 >>> 9) << 4) + 15] = l;\n\n    for (var i = 0; i < m.length; i += 16) {\n      var a = H0,\n          b = H1,\n          c = H2,\n          d = H3,\n          e = H4;\n\n      for (var j = 0; j < 80; j++) {\n\n        if (j < 16)\n          w[j] = m[i + j];\n        else {\n          var n = w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16];\n          w[j] = (n << 1) | (n >>> 31);\n        }\n\n        var t = ((H0 << 5) | (H0 >>> 27)) + H4 + (w[j] >>> 0) + (\n                j < 20 ? (H1 & H2 | ~H1 & H3) + 1518500249 :\n                j < 40 ? (H1 ^ H2 ^ H3) + 1859775393 :\n                j < 60 ? (H1 & H2 | H1 & H3 | H2 & H3) - 1894007588 :\n                         (H1 ^ H2 ^ H3) - 899497514);\n\n        H4 = H3;\n        H3 = H2;\n        H2 = (H1 << 30) | (H1 >>> 2);\n        H1 = H0;\n        H0 = t;\n      }\n\n      H0 += a;\n      H1 += b;\n      H2 += c;\n      H3 += d;\n      H4 += e;\n    }\n\n    return [H0, H1, H2, H3, H4];\n  },\n\n  // Public API\n  api = function (message, options) {\n    var digestbytes = crypt.wordsToBytes(sha1(message));\n    return options && options.asBytes ? digestbytes :\n        options && options.asString ? bin.bytesToString(digestbytes) :\n        crypt.bytesToHex(digestbytes);\n  };\n\n  api._blocksize = 16;\n  api._digestsize = 20;\n\n  module.exports = api;\n})();\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(14);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}